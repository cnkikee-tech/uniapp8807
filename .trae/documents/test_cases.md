# 智能名片系统测试用例文档

## 1. 测试概述

本文档详细描述了智能名片系统的测试用例，包括功能测试、性能测试、安全测试等方面，确保系统满足用户需求和质量标准。

## 2. 测试环境

### 2.1 硬件环境
- 服务器：CPU 4核，内存 8GB，硬盘 100GB
- 客户端：PC、移动设备

### 2.2 软件环境
- 操作系统：Linux CentOS 7+
- Web服务器：Nginx 1.20+
- 数据库：MySQL 5.7+
- PHP版本：7.4+
- 微信小程序基础库：2.30+

### 2.3 测试工具
- PHPUnit：PHP单元测试
- Postman：API接口测试
- Chrome DevTools：前端性能测试
- Apache JMeter：压力测试

## 3. 功能测试用例

### 3.1 用户认证模块测试

#### 3.1.1 用户注册测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC001 | 正常用户注册 | 系统正常运行 | 1. 输入有效用户名、邮箱、密码<br>2. 点击注册按钮 | 注册成功，返回用户信息 | |
| TC002 | 重复用户名注册 | 用户已存在 | 1. 输入已存在的用户名<br>2. 输入其他有效信息<br>3. 点击注册按钮 | 注册失败，提示用户名已存在 | |
| TC003 | 无效邮箱格式 | 系统正常运行 | 1. 输入无效邮箱格式<br>2. 点击注册按钮 | 注册失败，提示邮箱格式错误 | |
| TC004 | 密码长度不足 | 系统正常运行 | 1. 输入少于6位密码<br>2. 点击注册按钮 | 注册失败，提示密码长度不足 | |

#### 3.1.2 用户登录测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC005 | 正常用户登录 | 用户已注册 | 1. 输入正确用户名和密码<br>2. 点击登录按钮 | 登录成功，返回JWT token | |
| TC006 | 错误密码登录 | 用户已注册 | 1. 输入正确用户名和错误密码<br>2. 点击登录按钮 | 登录失败，提示密码错误 | |
| TC007 | 不存在的用户登录 | 系统正常运行 | 1. 输入不存在的用户名<br>2. 点击登录按钮 | 登录失败，提示用户不存在 | |
| TC008 | 空字段登录 | 系统正常运行 | 1. 留空用户名或密码<br>2. 点击登录按钮 | 登录失败，提示必填字段 | |

### 3.2 名片管理模块测试

#### 3.2.1 名片创建测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC009 | 正常创建名片 | 用户已登录 | 1. 输入有效名片信息<br>2. 点击创建按钮 | 创建成功，返回名片信息 | |
| TC010 | 必填字段缺失 | 用户已登录 | 1. 留空必填字段<br>2. 点击创建按钮 | 创建失败，提示必填字段 | |
| TC011 | 无效手机号格式 | 用户已登录 | 1. 输入无效手机号<br>2. 点击创建按钮 | 创建失败，提示手机号格式错误 | |
| TC012 | 无效邮箱格式 | 用户已登录 | 1. 输入无效邮箱<br>2. 点击创建按钮 | 创建失败，提示邮箱格式错误 | |

#### 3.2.2 名片查询测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC013 | 正常查询名片列表 | 用户已登录 | 1. 访问名片列表接口 | 返回名片列表数据 | |
| TC014 | 分页查询 | 用户已登录 | 1. 设置分页参数<br>2. 访问名片列表接口 | 返回指定页数据 | |
| TC015 | 搜索查询 | 用户已登录 | 1. 输入搜索关键词<br>2. 访问名片列表接口 | 返回匹配的名片数据 | |
| TC016 | 查询单张名片 | 用户已登录 | 1. 访问单张名片详情接口 | 返回名片详细信息 | |

#### 3.2.3 名片更新测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC017 | 正常更新名片 | 用户已登录 | 1. 修改名片信息<br>2. 点击更新按钮 | 更新成功，返回更新后信息 | |
| TC018 | 更新不存在的名片 | 用户已登录 | 1. 更新不存在的名片ID<br>2. 点击更新按钮 | 更新失败，提示名片不存在 | |
| TC019 | 无权限更新 | 普通用户 | 1. 尝试更新他人名片<br>2. 点击更新按钮 | 更新失败，提示无权限 | |

#### 3.2.4 名片删除测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC020 | 正常删除名片 | 用户已登录 | 1. 选择要删除的名片<br>2. 点击删除按钮 | 删除成功，名片不再显示 | |
| TC021 | 删除不存在的名片 | 用户已登录 | 1. 删除不存在的名片ID<br>2. 点击删除按钮 | 删除失败，提示名片不存在 | |
| TC022 | 无权限删除 | 普通用户 | 1. 尝试删除他人名片<br>2. 点击删除按钮 | 删除失败，提示无权限 | |

### 3.3 微信小程序前端测试

#### 3.3.1 首页功能测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC023 | 名片列表显示 | 小程序正常运行 | 1. 打开小程序首页<br>2. 查看名片列表 | 正确显示名片列表，包含姓名、职位、公司 | |
| TC024 | 下拉刷新功能 | 小程序正常运行 | 1. 在首页下拉<br>2. 释放刷新 | 列表数据刷新，显示最新数据 | |
| TC025 | 上拉加载更多 | 小程序正常运行 | 1. 滑动到列表底部<br>2. 上拉加载 | 加载更多名片数据 | |
| TC026 | 名片搜索功能 | 小程序正常运行 | 1. 输入搜索关键词<br>2. 点击搜索 | 显示匹配的名片结果 | |

#### 3.3.2 名片详情页测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC027 | 名片详情显示 | 小程序正常运行 | 1. 点击任意名片<br>2. 进入详情页 | 显示完整的名片信息 | |
| TC028 | 拨打电话功能 | 小程序正常运行 | 1. 点击电话号码 | 调用系统拨号界面 | |
| TC029 | 发送邮件功能 | 小程序正常运行 | 1. 点击邮箱地址 | 调用系统邮件客户端 | |
| TC030 | 地图定位功能 | 小程序正常运行 | 1. 点击公司地址<br>2. 查看地图位置 | 显示公司位置地图 | |

### 3.4 管理后台测试

#### 3.4.1 用户管理测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC031 | 用户列表显示 | 管理员已登录 | 1. 进入用户管理页面 | 显示用户列表，包含用户名、角色、状态 | |
| TC032 | 创建新用户 | 管理员已登录 | 1. 点击新建用户<br>2. 输入用户信息<br>3. 点击保存 | 用户创建成功，列表更新 | |
| TC033 | 用户状态切换 | 管理员已登录 | 1. 切换用户状态开关 | 用户状态成功切换 | |
| TC034 | 用户角色管理 | 管理员已登录 | 1. 修改用户角色<br>2. 点击保存 | 用户角色成功更新 | |

#### 3.4.2 系统设置测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|---------|
| TC035 | 基本设置修改 | 管理员已登录 | 1. 修改系统基本设置<br>2. 点击保存 | 设置保存成功 | |
| TC036 | 上传设置修改 | 管理员已登录 | 1. 修改上传相关设置<br>2. 点击保存 | 设置保存成功 | |
| TC037 | API设置修改 | 管理员已登录 | 1. 修改API相关设置<br>2. 点击保存 | 设置保存成功 | |
| TC038 | 邮件设置测试 | 管理员已登录 | 1. 配置邮件设置<br>2. 点击测试邮件 | 测试邮件发送成功 | |

## 4. 性能测试用例

### 4.1 响应时间测试
| 用例编号 | 用例名称 | 测试指标 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| PT001 | 页面加载时间 | 首页加载时间 | ≤ 2秒 | |
| PT002 | API响应时间 | 接口响应时间 | ≤ 500ms | |
| PT003 | 数据库查询性能 | 名片列表查询 | ≤ 200ms | |
| PT004 | 并发用户处理 | 100并发用户 | 系统正常运行 | |

### 4.2 压力测试
| 用例编号 | 用例名称 | 测试条件 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| PT005 | 高并发登录 | 500用户同时登录 | 系统稳定运行 | |
| PT006 | 大量数据查询 | 10万条名片数据 | 查询响应正常 | |
| PT007 | 长时间运行 | 连续运行72小时 | 系统无内存泄漏 | |

## 5. 安全测试用例

### 5.1 认证安全测试
| 用例编号 | 用例名称 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| ST001 | JWT Token验证 | 1. 使用无效token访问接口<br>2. 使用过期token访问接口 | 访问被拒绝，返回401错误 | |
| ST002 | 密码安全 | 1. 检查密码存储<br>2. 测试密码复杂度 | 密码加密存储，符合复杂度要求 | |
| ST003 | 会话管理 | 1. 测试token过期处理<br>2. 测试登出功能 | Token正确过期，登出清除会话 | |

### 5.2 数据安全测试
| 用例编号 | 用例名称 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| ST004 | SQL注入防护 | 1. 输入恶意SQL语句<br>2. 提交表单 | 系统阻止注入攻击 | |
| ST005 | XSS防护 | 1. 输入XSS脚本<br>2. 显示数据 | 脚本被正确转义 | |
| ST006 | 权限控制 | 1. 普通用户访问管理功能<br>2. 访问他人数据 | 访问被拒绝，提示无权限 | |

### 5.3 接口安全测试
| 用例编号 | 用例名称 | 测试步骤 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| ST007 | API频率限制 | 1. 快速重复请求接口<br>2. 超过限制继续请求 | 超出限制后拒绝请求 | |
| ST008 | 参数验证 | 1. 提交非法参数<br>2. 绕过前端验证 | 后端正确验证并拒绝 | |
| ST009 | 文件上传安全 | 1. 上传可执行文件<br>2. 上传大文件 | 拒绝上传，返回错误信息 | |

## 6. 兼容性测试用例

### 6.1 浏览器兼容性
| 用例编号 | 用例名称 | 测试环境 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| CT001 | Chrome浏览器 | Chrome 90+ | 功能正常，显示正确 | |
| CT002 | Firefox浏览器 | Firefox 88+ | 功能正常，显示正确 | |
| CT003 | Safari浏览器 | Safari 14+ | 功能正常，显示正确 | |
| CT004 | Edge浏览器 | Edge 90+ | 功能正常，显示正确 | |

### 6.2 移动设备兼容性
| 用例编号 | 用例名称 | 测试环境 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| CT005 | iOS设备 | iPhone 12, iOS 14+ | 小程序功能正常 | |
| CT006 | Android设备 | 华为、小米等主流机型 | 小程序功能正常 | |
| CT007 | 不同屏幕尺寸 | 5-7寸屏幕 | 界面适配良好 | |
| CT008 | 不同分辨率 | 720p-4K分辨率 | 显示清晰，无变形 | |

## 7. 异常处理测试用例

### 7.1 网络异常测试
| 用例编号 | 用例名称 | 测试条件 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| ET001 | 网络断开 | 断开网络连接 | 显示网络错误提示 | |
| ET002 | 网络超时 | 模拟网络超时 | 显示超时提示，可重试 | |
| ET003 | 服务器错误 | 模拟500错误 | 显示服务器错误提示 | |

### 7.2 数据异常测试
| 用例编号 | 用例名称 | 测试条件 | 预期结果 | 实际结果 |
|---------|---------|---------|---------|---------|
| ET004 | 数据库连接失败 | 断开数据库连接 | 显示数据库错误提示 | |
| ET005 | 数据格式错误 | 提交格式错误数据 | 显示数据格式错误提示 | |
| ET006 | 空数据查询 | 查询不存在的数据 | 显示无数据提示 | |

## 8. 测试执行计划

### 8.1 测试阶段
1. **单元测试阶段**（2天）
   - 后端API接口测试
   - 前端组件测试
   - 数据库操作测试

2. **集成测试阶段**（3天）
   - 前后端集成测试
   - 第三方服务集成测试
   - 微信小程序集成测试

3. **系统测试阶段**（2天）
   - 功能完整性测试
   - 性能压力测试
   - 安全渗透测试

4. **验收测试阶段**（1天）
   - 用户验收测试
   - 业务流程测试
   - 回归测试

### 8.2 测试资源分配
- 测试工程师：2人
- 开发工程师：1人（协助测试）
- 测试环境：独立测试服务器
- 测试数据：模拟数据+真实数据

### 8.3 测试完成标准
- 所有功能测试用例通过率 ≥ 95%
- 性能指标达到预期要求
- 安全漏洞修复率 = 100%
- 用户体验满意度 ≥ 90%

## 9. 测试报告模板

### 9.1 测试总结报告
包含以下内容：
- 测试范围和环境
- 测试执行结果统计
- 缺陷统计和分析
- 测试结论和建议

### 9.2 缺陷报告模板
包含以下内容：
- 缺陷编号和标题
- 严重程度和优先级
- 重现步骤和环境
- 预期结果和实际结果
- 截图和日志信息

## 10. 持续集成测试

### 10.1 自动化测试
- 配置GitHub Actions或Jenkins
- 每次代码提交自动运行测试
- 生成测试报告和覆盖率报告

### 10.2 测试监控
- 监控测试执行状态
- 统计测试通过率趋势
- 及时发现和修复问题

---

**文档版本**：v1.0  
**创建日期**：2026-01-16  
**最后更新**：2026-01-16  
**文档作者**：开发团队