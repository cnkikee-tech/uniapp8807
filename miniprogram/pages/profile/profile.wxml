<!--pages/profile/profile.wxml-->
<view class="profile-container">
  <view class="user-info-section">
    <view class="avatar-container">
      <image class="avatar" src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
    </view>
    <view class="user-details">
      <text class="username">{{userInfo.name || '游客'}}</text>
      <text class="user-role">{{userInfo.role_name || '普通用户'}}</text>
    </view>
  </view>

  <view class="menu-section">
    <view class="menu-item" bindtap="viewMyCards">
      <text class="menu-text">我的名片</text>
      <text class="menu-arrow">></text>
    </view>
    
    <view class="menu-item" bindtap="editProfile">
      <text class="menu-text">编辑资料</text>
      <text class="menu-arrow">></text>
    </view>
    
    <view class="menu-item">
      <text class="menu-text">关于我们</text>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <view class="logout-section" wx:if="{{hasUserInfo}}">
    <button class="logout-btn" bindtap="logout">退出登录</button>
  </view>

  <view class="login-section" wx:else>
    <button class="login-btn" bindtap="getUserProfile">微信登录</button>
  </view>
</view>